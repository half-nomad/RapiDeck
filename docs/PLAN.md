# RapiDeck 개발 로드맵 & 체크리스트

**버전**: 2.0.0
**최종 업데이트**: 2025-10-02
**핵심 원칙**: 기술적 리스크 우선 검증 → 사용자 경험 개선 → 프로덕션 준비

---

## 📋 목차

1. [Phase 1: MVP (Beta)](#phase-1-mvp-beta---7주)
2. [Phase 2: 템플릿 확장](#phase-2-템플릿-확장---3개월)
3. [Phase 3: 고급 기능](#phase-3-고급-기능---3개월)
4. [일일 체크리스트](#일일-체크리스트)
5. [마일스톤 체크포인트](#마일스톤-체크포인트)

---

## Phase 1: MVP (Beta) - 7주

### Week 1-2: 핵심 기능 프로토타입 ⭐ ✅ 완료

**목표**: Gemini API 연동 및 슬라이드 생성 검증 (기술적 리스크 조기 파악)

#### 체크리스트
- [x] **Gemini API 연동**
  - [x] GeminiClient 서비스 클래스 구현
  - [x] API 키 로컬 변수 저장 (간단한 폼)
  - [x] 시스템 프롬프트 로드 (docs/SYSTEM_PROMPT.md)
  - [x] 에러 핸들링 구현

- [x] **문서 파싱**
  - [x] DocumentParser 서비스 구현
  - [x] 텍스트 입력 받기
  - [x] 30페이지 제한 로직
  - [x] 초과 시 자동 잘라내기 + 경고

- [x] **HTML 슬라이드 생성**
  - [x] SlideGenerator 서비스 구현
  - [x] Gemini 응답 → HTML 저장
  - [x] 미리보기 페이지 (간단한 iframe)

- [x] **기본 UI**
  - [x] 문서 입력 폼
  - [x] 생성 버튼
  - [ ] 프로그레스 바 (Week 5 Solid Queue와 함께 구현 예정)

**마일스톤 체크포인트**:
```
☑ Gemini API 호출 성공
☑ HTML 슬라이드 생성 확인 (코드 블록 제거 로직 추가)
☑ DESIGN_GUIDELINES 준수 여부 확인 (Dark theme, Pretendard, Tailwind)
☑ 기술적 리스크 파악 완료
☑ 평균 생성 시간 10분 이내 확인 (타임아웃 2분 설정)
```

**완료 날짜**: 2025-10-02

**주요 개선 사항**:
- Tailwind CSS CDN 및 Pretendard 폰트 적용
- Gemini 코드 블록 제거 로직 (```html ... ```)
- HTML DOCTYPE 검증 및 Markdown 감지

---

### Week 3: 채팅 기반 수정 기능 ✅ 완료

**목표**: 사용자 경험 완성 (슬라이드 수정 워크플로우)

#### 체크리스트
- [x] **채팅 UI**
  - [x] 채팅 입력창 (textarea + 전송 버튼)
  - [x] 메시지 표시 (말풍선 스타일)
  - [x] 스크롤 자동 하단 이동 (Stimulus 컨트롤러)

- [x] **컨텍스트 관리**
  - [x] 세션 기반 대화 이력 저장 (Rails session)
  - [x] Gemini 재호출 시 이전 메시지 포함

- [x] **슬라이드 재생성**
  - [x] 전체 재생성 로직
  - [x] 부분 수정 로직 (Gemini 판단)

**마일스톤 체크포인트**:
```
☑ 채팅으로 슬라이드 수정 가능 (SlidesController#update)
☑ 대화 이력 유지 확인 (session[:chat_messages])
☑ 사용자 플로우 자연스러움 (2열 레이아웃)
☑ 수정 요청 → 완료까지 5분 이내 (Gemini API 호출)
```

**완료 날짜**: 2025-10-02

---

### Week 4: 데이터 영속성

**목표**: 슬라이드 저장 및 관리 (프로토타입 → 실제 서비스 전환)

#### 체크리스트
- [ ] **User 모델**
  - [ ] 회원가입 (이메일/비밀번호)
  - [ ] 로그인/로그아웃
  - [ ] 간단한 인증 (has_secure_password)

- [ ] **Slide 모델**
  - [ ] 마이그레이션 생성
  - [ ] title, html_code, pinned 필드
  - [ ] Pin 제한 validation (최대 4개)
  - [ ] 5개 초과 시 자동 삭제 로직

- [ ] **ChatSession & ChatMessage 모델**
  - [ ] 채팅 이력 DB 저장
  - [ ] 세션 관리

- [ ] **대시보드**
  - [ ] 최근 5개 슬라이드 목록
  - [ ] 썸네일 미리보기 (단순 이미지)
  - [ ] Pin/Unpin 버튼
  - [ ] 삭제 버튼 (경고 모달)

**마일스톤 체크포인트**:
```
□ 슬라이드 저장/불러오기 동작
□ 5개 제한 동작 확인
□ Pin 기능 동작 (최대 4개)
□ 대시보드 정상 표시
```

---

### Week 5: 결과물 다운로드

**목표**: 실용성 확보 (HTML/PDF 제공)

#### 체크리스트
- [ ] **HTML 다운로드**
  - [ ] 단일 파일 다운로드 기능
  - [ ] Content-Disposition 헤더 설정

- [ ] **PDF 변환**
  - [ ] Grover gem 설치
  - [ ] Puppeteer/Chrome 의존성 (Docker 이미지 업데이트)
  - [ ] ConversionService 구현
  - [ ] HTML → PDF 변환

- [ ] **백그라운드 작업**
  - [ ] Solid Queue 설정
  - [ ] ConvertToPdfJob 생성
  - [ ] ConversionJob 모델 (status 추적)

- [ ] **다운로드 UI**
  - [ ] HTML/PDF 선택 버튼
  - [ ] 프로그레스 바 (Turbo Streams)
  - [ ] 완료 알림

**마일스톤 체크포인트**:
```
□ HTML 다운로드 성공
□ PDF 변환 성공
□ 백그라운드 작업 완료 알림 확인
□ 변환 시간 2분 이내
```

---

### Week 6: 인증 시스템 강화

**목표**: 프로덕션 준비 (보안 및 사용자 편의성)

#### 체크리스트
- [ ] **Google OAuth 추가**
  - [ ] omniauth-google-oauth2 gem 설치
  - [ ] Google Cloud Console 설정
  - [ ] OAuth 콜백 라우트
  - [ ] SessionsController 구현

- [ ] **API 키 관리**
  - [ ] attr_encrypted gem 설치
  - [ ] User 모델에 gemini_api_key 암호화 필드
  - [ ] 환경 설정 페이지 UI
  - [ ] API 키 유효성 검증

- [ ] **보안 강화**
  - [ ] Rails Credentials 설정
  - [ ] 환경 변수 관리 (.kamal/secrets)

**마일스톤 체크포인트**:
```
□ Google OAuth 로그인 동작
□ API 키 암호화 저장 확인
□ 환경 설정 페이지 완성
□ 보안 감사 통과
```

---

### Week 7: 테스트 및 배포

**목표**: 베타 출시

#### 체크리스트
- [ ] **통합 테스트**
  - [ ] E2E 테스트 (Capybara)
  - [ ] 로그인 → 슬라이드 생성 → 다운로드 플로우
  - [ ] Pin 기능 테스트
  - [ ] 채팅 수정 테스트

- [ ] **단위 테스트**
  - [ ] DocumentParser 테스트
  - [ ] GeminiClient 테스트 (mock API)
  - [ ] SlideGenerator 테스트

- [ ] **배포**
  - [ ] Digital Ocean Droplet 준비
  - [ ] kamal setup
  - [ ] kamal deploy
  - [ ] SSL 인증서 확인

- [ ] **베타 사용자 모집**
  - [ ] 랜딩 페이지 작성
  - [ ] 온보딩 가이드
  - [ ] 10명 베타 테스터 모집

**마일스톤 체크포인트**:
```
□ 통합 테스트 모두 통과
□ 배포 성공 및 서비스 정상 작동
□ 베타 사용자 피드백 수집 시작
□ 주요 버그 없음
```

---

## Phase 2: 템플릿 확장 - 3개월

### Month 3: 템플릿 시스템 설계

- [ ] Template 모델 설계
- [ ] 템플릿 갤러리 UI
- [ ] 템플릿 선택 기능

**체크리스트**:
```
□ 템플릿 모델 설계 완료
□ 갤러리 UI 구현
□ 템플릿 선택 동작 확인
```

---

### Month 4: 3-5개 템플릿 제작

- [ ] 템플릿 1: 비즈니스 제안서 (현재 dark theme)
- [ ] 템플릿 2: 기술 발표 (코드 하이라이팅)
- [ ] 템플릿 3: 교육/강의 (다이어그램 중심)
- [ ] 템플릿 4: 마케팅 리포트 (차트 중심)
- [ ] 템플릿 5: 뉴스레터 (카드 레이아웃)

**체크리스트**:
```
□ 각 템플릿 HTML 파일 작성
□ DESIGN_GUIDELINES 업데이트
□ SYSTEM_PROMPT 템플릿별 분기 처리
```

---

### Month 5: 사용자 커스텀 템플릿

- [ ] HTML 파일 업로드 기능
- [ ] 스타일 추출 및 검증
- [ ] 사용자 전용 템플릿 저장
- [ ] "내 템플릿" 관리 페이지

**체크리스트**:
```
□ HTML 업로드 동작 확인
□ 커스텀 템플릿으로 슬라이드 생성 테스트
□ 템플릿 관리 페이지 완성
```

---

## Phase 3: 고급 기능 - 3개월

### Month 6: 이미지 삽입

- [ ] ActiveStorage 설정
- [ ] 이미지 업로드 UI (드래그 앤 드롭)
- [ ] Gemini에게 이미지 URL 전달
- [ ] ZIP 파일 프로젝트 생성 (rubyzip)

**체크리스트**:
```
□ 이미지 업로드 동작
□ Gemini가 이미지 적절히 배치
□ ZIP 다운로드 성공
```

---

### Month 7: 레퍼런스 기반 모드

- [ ] HTML 파일 분석 로직 (색상/폰트 추출)
- [ ] 레이아웃 패턴 분석
- [ ] 동적 시스템 프롬프트 생성

**체크리스트**:
```
□ 사용자 HTML 파일 분석 성공
□ 추출된 스타일로 슬라이드 생성 확인
```

---

### Month 8: 협업 기능 (선택적)

- [ ] URL 공유 기능
- [ ] 공개 링크 생성 (/slides/:id/public)
- [ ] 읽기 전용 모드
- [ ] (선택) 버전 관리

**체크리스트**:
```
□ 공개 링크 공유 동작
□ 읽기 전용 모드 확인
□ (선택) 버전 관리 기능
```

---

## 일일 체크리스트

### 개발 시작 전
```
□ docs/PRD.md 확인 (제품 요구사항)
□ docs/TRD.md 확인 (기술 명세)
□ docs/DESIGN_GUIDELINES.md 확인 (디자인 규칙)
□ docs/SYSTEM_PROMPT.md 확인 (Gemini 프롬프트)
□ CLAUDE.md 확인 (작업 지침)
□ 현재 Week 체크리스트 확인
```

### 개발 중
```
□ 변경 사항이 PRD와 일치하는지 확인
□ 디자인 가이드라인 준수 확인
□ 테스트 코드 작성
□ Git commit 메시지 명확히 작성
```

### 개발 완료 후
```
□ 로컬 테스트 완료
□ docs/PLAN.md 체크리스트 업데이트
□ docs/CHANGELOG.md 업데이트
□ PR 생성 (필요 시)
```

---

## 마일스톤 체크포인트

### Milestone 1: 핵심 기능 검증 (Week 2 종료)
```
□ Gemini API 호출 성공
□ HTML 슬라이드 생성 확인
□ DESIGN_GUIDELINES 준수 확인
□ 기술적 리스크 파악 완료
□ 평균 생성 시간 10분 이내
```

### Milestone 2: 사용자 경험 완성 (Week 4 종료)
```
□ 채팅 수정 기능 동작
□ 슬라이드 저장/관리 동작
□ Pin 기능 동작 (최대 4개)
□ 대시보드 완성
```

### Milestone 3: 베타 출시 (Week 7 종료)
```
□ HTML/PDF 다운로드 동작
□ Google OAuth 로그인 동작
□ 통합 테스트 통과
□ 배포 완료
□ 베타 사용자 모집 시작
```

---

## 리스크 관리

### 높은 리스크
- **Gemini API 안정성**: API 장애 시 서비스 중단
  - 대응: 에러 핸들링 강화, 사용자에게 상태 명확히 전달

- **PDF 변환 품질**: Chart.js 등 복잡한 요소 변환 실패
  - 대응: HTML만 다운로드 대안 제공

### 중간 리스크
- **SQLite 확장성**: 사용자 증가 시 성능 저하
  - 대응: PostgreSQL 마이그레이션 계획 수립 (Phase 3)

### 낮은 리스크
- **디자인 가이드라인 위반**: Gemini가 규칙 무시
  - 대응: SYSTEM_PROMPT 개선, HTML 검증 로직 추가

---

**작성자**: Claude
**다음 업데이트 예정일**: 매주 금요일
